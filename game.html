<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questions & Answers</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <style>
        body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}

.container {
    background-color: #fff;
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 90%;
    margin: 20px auto;
    display: flex; /* Use flexbox for centering */
    flex-direction: column; /* Stack children vertically */
    align-items: center; /* Center children horizontally */
    justify-content: center; /* Center children vertically */
}

h1 {
    color: #007bff;
    margin-bottom: 20px;
}

form {
    width: 100%;
    text-align: center; /* Center the form */
}

label {
    display: block;
    margin-bottom: 10px;
}

input[type="text"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 20px;
    box-sizing: border-box;
}

button {
    padding: 12px 24px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s;
    display: block;
    margin-top: 20px; /* Add margin for spacing */
}

button:hover {
    background-color: #45a049;
}

@media only screen and (min-width: 600px) {
    .container {
        max-width: 600px;
    }
    button {
        display: inline-block;
        margin-top: 0; /* Remove margin for larger screens */
    }
}
    </style>
</head>
<body>
<div class="container">
<h1>Questions & Answers</h1>

<form>
    <div id="pregunta1" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px; text-align: center;">
    <p style="margin-bottom: 20px;">Welcome to Questions and Answers. This website consists of a form with several questions. The answers to these questions will be anonymous and confidential. They will be used to conduct a social study.</p>
    <button type="button" onclick="mostrarPregunta(2)" style="padding: 12px 24px; background-color: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">Next</button>
</div>

<div id="pregunta2" style="display:none;">
    <label for="respuesta2" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px;margin-bottom: 15px;">What is your name?</label>
    <input type="text" style="border-radius: 6px;" id="respuesta2" name="respuesta2" required>
    <br>
    <button type="button" onclick="mostrarPregunta(3); sendMail();" style="padding: 12px 24px; background-color: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">Next</button>
</div>

<div id="pregunta3" style="display:none;">
    <label for="respuesta3" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px;margin-bottom: 15px;">What is your first surname ?</label>
    <input type="text" style="border-radius: 6px;" id="respuesta3" name="respuesta3" required>
    <br>
    <button type="button" onclick="mostrarPregunta(4); sendMail();" style="padding: 12px 24px; background-color: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">Next</button>
</div>

<div id="pregunta4" style="display:none;">
    <label for="respuesta4" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px;margin-bottom: 15px;">In which year were you born?</label>
    <input type="text" style="border-radius: 6px;" id="respuesta4" name="respuesta4" required>
    <br>
    <button type="button" onclick="mostrarPregunta(5); sendMail();" style="padding: 12px 24px; background-color: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">Next</button>
</div>

<div id="pregunta5" style="display:none;">
    <label for="respuesta5" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px;margin-bottom: 15px;">Do you have any brother or sister?</label>
    <input type="text" style="border-radius: 6px;" id="respuesta5" name="respuesta5" required>
    <br>
    <button type="button" onclick="mostrarPregunta(6); sendMail();" style="padding: 12px 24px; background-color: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">Next</button>
</div>

<div id="pregunta6" style="display:none;">
    <label for="respuesta6" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px;margin-bottom: 15px;">Do you have any boyfriend or girlfriend?</label>
    <input type="text" style="border-radius: 6px;" id="respuesta6" name="respuesta6" required>
    <br>
    <button type="button" onclick="mostrarPregunta(7); sendMail();" style="padding: 12px 24px; background-color: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">Next</button>
</div>
    
 <div id="pregunta7" style="display:none;">
    <div id="finalMessage" style="font-family: Verdana, sans-serif; font-size: 18px; color: #333; line-height: 1.6; text-align: justify; margin: 0 auto; max-width: 600px; text-align: center;">
        <p style="margin-bottom: 20px;">Thanks for participating ! An e-mail to the owner of the form will be sent.</p>
    </div>
</div>

</form>

<script type="text/javascript">
    function mostrarPregunta(numeroPregunta) {
    // Check if the current question is not the first one
    if (numeroPregunta !== 2) {
        // Get the input field for the current question
        var respuestaActual = document.getElementById('respuesta' + (numeroPregunta - 1)).value;
        
        // Check if the input field is empty
        if (respuestaActual.trim() === '') {
            alert('Please answer the current question before proceeding.');
            return; // Stop execution if the current question is not answered
        }
    }

    // Check if the current question is question 2
    if (numeroPregunta === 3) {
        var respuesta2 = document.getElementById('respuesta2').value;
        // Check if respuesta2 is not equal to "manolo"
        if (respuesta2.trim().toLowerCase() !== "marta") {
            alert('Please enter your real name.');
            return; // Stop execution if respuesta2 is not "manolo"
        }
    }
    if (numeroPregunta === 4) {
        var respuesta3 = document.getElementById('respuesta3').value;
        // Check if respuesta2 is not equal to "manolo"
        if (respuesta3.trim().toLowerCase() !== "arroyo") {
            alert('Please enter your real surname.');
            return;
        }
    }
    if (numeroPregunta === 5) {
        var respuesta4 = document.getElementById('respuesta4').value;
        // Check if respuesta2 is not equal to "manolo"
        if (respuesta4.trim().toLowerCase() !== "2004") {
            alert('Please enter your real surname.');
            return;
        }
    }

    // Hide the current question
    document.getElementById('pregunta' + (numeroPregunta - 1)).style.display = 'none';

    // Show the next question
    document.getElementById('pregunta' + numeroPregunta).style.display = 'block';
}

    document.querySelector('form').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the form from submitting

        // Get the responses to all questions
        var respuesta2 = document.getElementById('respuesta2').value;
        var respuesta3 = document.getElementById('respuesta3').value;
        var respuesta4 = document.getElementById('respuesta4').value;
        var respuesta5 = document.getElementById('respuesta5').value;
        var respuesta6 = document.getElementById('respuesta6').value;

        // Log the responses to the console
        console.log("Respuesta a la pregunta 2: " + respuesta2);
        console.log("Respuesta a la pregunta 3: " + respuesta3);
        console.log("Respuesta a la pregunta 4: " + respuesta4);
        console.log("Respuesta a la pregunta 5: " + respuesta5);
        console.log("Respuesta a la pregunta 6: " + respuesta6);
    });
    (function(){
            emailjs.init({
                publicKey: "xrBvxdL8PswDwPPt6",
            });
        })();
    
        function sendMail(){
             var params = {
            subject: "Questions & Answers",
            resposta2: "",
            resposta3: "",
            resposta4: "",
            resposta5: "",
            resposta6: "",
        };

        // Check if responses are defined and update parameters
        if (document.getElementById('respuesta2')) {
            params.resposta2 = document.getElementById('respuesta2').value;
        }
        if (document.getElementById('respuesta3')) {
            params.resposta3 = document.getElementById('respuesta3').value;
        }
        if (document.getElementById('respuesta4')) {
            params.resposta4 = document.getElementById('respuesta4').value;
        }
        if (document.getElementById('respuesta5')) {
            params.resposta5 = document.getElementById('respuesta5').value;
        }
        if (document.getElementById('respuesta6')) {
            params.resposta6 = document.getElementById('respuesta6').value;
        }
            emailjs.send("service_hye9sfj","template_npapj2n",params).then("Email Sent")
        }
</script>
</body>
</html>
